---
import Hero from "@/components/Hero.astro";
import Hobbies from "@/components/Hobbies.astro";
import JourneyTimeline from "@/components/Journey.astro";
import ProjectsBento from "@/components/ProjectsBento";
import Section from "@/components/Section.astro";
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import MySkills from "@/components/MySkills";
import { Toaster } from "sonner";

const projects = await getCollection("projects");
const MySkillsData = await getCollection("skills");
const test = await getCollection("test");
const renderedTest = await test[0].render();
---

<BaseLayout>
	<Toaster richColors client:load />
	<main class="grid grid-cols-mainLayout pb-8">
		<Hero />
		<Section title="Proyectos">
			<ProjectsBento client:load myProjects={projects} />
		</Section>
		<Section title="Habilidades">
			<MySkills client:load skillLifeCycle={MySkillsData} />
		</Section>
		<Section title="Trayectoria">
			<JourneyTimeline />
		</Section>
		<Section title="Hobbies">
			<Hobbies />
		</Section>
	</main>
</BaseLayout>
